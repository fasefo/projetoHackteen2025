<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerador de CPF</title>
    <link rel="stylesheet" href="src/css/style.css" />
    <link rel="stylesheet" href="src/css/navBar.css" />
    <link rel="stylesheet" href="src/css/pageBody.css" />
    <link rel="stylesheet" href="src/css/produtos.css" />
  </head>

  <body>
    <div id="container">
      <div id="sideNavbar">
        <a href="index.html">
          <img src="src/img/logoLiteDevTools.svg" alt="logo" class="logo" />
        </a>
        <div class="name">LiteDevTools</div>
        <nav>
          <ul class="nav">
            <a href="index.html"><li><span>Página Principal</span></li></a>
            <a href="aboutUs.html"><li><span>Sobre nós</span></li></a>
            <a href="products.html"><li><span>Produtos</span></li></a>
            <a href="contacts.html"><li><span>Contatos</span></li></a>
          </ul>
        </nav>
      </div>

      <div id="pageBody">
        <div class="title" style="margin-bottom: 30px;">Gerador de CPF</div>

        <div class="generalText" style="text-align: center;">
          <button onclick="gerarCPF()">Gerar CPF</button>
          <p id="cpfGerado" style="margin-top: 20px; font-weight: bold;"></p>
        </div>
      </div>
    </div>

    <script>
      function gerarCPF() {
        function gerarDigito(cpfArray) {
          const peso = cpfArray.length + 1;
          const soma = cpfArray.reduce((acc, val, i) => acc + val * (peso - i), 0);
          const resto = soma % 11;
          return resto < 2 ? 0 : 11 - resto;
        }

        const cpf = [];
        for (let i = 0; i < 9; i++) {
          cpf.push(Math.floor(Math.random() * 10));
        }

        cpf.push(gerarDigito(cpf));
        cpf.push(gerarDigito(cpf));

        const formatado = cpf
          .join("")
          .replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");

        document.getElementById("cpfGerado").textContent = "CPF gerado: " + formatado;
      }
    </script>
  </body>
</html>
